<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hex</title>
    <link rel="icon" href="public/img/favicon.png">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="public/css/bootstrap.min.css">
    <!-- animate CSS -->
    <link rel="stylesheet" href="public/css/animate.css">
    <!-- owl carousel CSS -->
    <link rel="stylesheet" href="public/css/owl.carousel.min.css">
    <!-- font awesome CSS -->
    <link rel="stylesheet" href="public/css/all.css">
    <!-- flaticon CSS -->
    <link rel="stylesheet" href="public/css/flaticon.css">
    <link rel="stylesheet" href="public/css/themify-icons.css">
    <!-- font awesome CSS -->
    <link rel="stylesheet" href="public/css/magnific-popup.css">
    <!-- swiper CSS -->
    <link rel="stylesheet" href="public/css/slick.css">
    <!-- style CSS -->
    <link rel="stylesheet" href="public/css/style.css">
    <style>
        .custom-font {
            font-family: 'Arial', sans-serif;
            font-size: 16px;
        }
        .custom-font2 {
            font-family: 'Cicada', sans-serif;
            font-size: 18px;
        }
        .custom-font3 {
            font-family: 'Times new', sans-serif;
            font-size: 16px;
        }
        body{
            overflow-x: hidden;
        }

        @media only screen and (max-width: 500px) {

            body{
                display: flex;
            }
    }
    @media only screen and (max-width: 1200px) {
        footer{
            padding-top: 0 !important;
        }
    }
    header{
        position: absolute;
        width: 100%;
        top:0;
        left:0;
    }

   
    </style>
</head>

<body>
    <div class="body_bg">
        <!--::header part start::-->
        <header class="main_menu " >
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-12">
                        <nav class="navbar navbar-expand-lg navbar-light">
                            <a class="navbar-brand" href="/"> <img src="public/img/logo.png" alt="logo"> </a>
                            <button class="navbar-toggler" type="button" data-toggle="collapse"
                                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                                <span class="menu_icon"><i class="fas fa-bars"></i></span>
                            </button>

                            <div class="collapse navbar-collapse main-menu-item" id="navbarSupportedContent">
                                <ul class="navbar-nav">
                                    <li class="nav-item dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1"
                                            role="button" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false">
                                            Projects
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                                            <a class="dropdown-item" href="https://toll-plaza.vercel.app/" target="_blank">Toll Website</a>
                                            <a class="dropdown-item" href="https://autofiller-83ad.onrender.com/" target="_blank">Form filler</a>
                                        </div>
                                       
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="#" onclick="show_contact()">Contact</a>
                                    </li>
                                </ul>
                            </div>
                            <a href="https://www.youtube.com/watch?v=1NcZTzoG6kI" target="_blank" class="btn_1 d-flex d-sm-block">Learn</a>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <!-- Header part end-->

        <!-- banner part start-->
        <section class="banner_part">
            <div class="container">
                <div class="row align-items-center justify-content-center">
                    <div class="col-lg-6 col-md-8">
                        <div class="banner_text">
                            <div class="banner_text_iner">
                                <h1>Play Hex</h1>
                                <p>Hex is a two player abstract strategy board game in which players attempt to connect opposite sides of a rhombus-shaped
                                board made of hexagonal cells.</p>
                                <a style="cursor:pointer;" onclick="showOptions()" class="btn_1">PLAY NOW</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-8">
                        <div class="banner_text" id="Board">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- banner part start-->

        <footer class="footer_part" style="padding-top:7%;">
            <div class="footer_top" style="background-color:rgb(61, 59, 59)">
                <div class="container">
                    <div class="d-flex justify-content-around align-items-lg-center">
                        <div class="col-sm-6 d-flex justify-content-center">
                            <div class="single_footer_part">
                                <a href="index.html" class="footer_logo_iner"> <img src="public/img/logo.png" alt="#"> </a>
                                <h4 style="font-family:'Times New Roman', Times, serif;">Hex AI and PvP by PINAKI BANERJEE</h4>
                            </div>
                        </div>
                        <div class="col-sm-6 d-flex justify-content-center">
                            <div class="single_footer_part">
                                <h4>Contact Info</h4>
                                <p>Name : PINAKI BANERJEE</p>
                                <p>Email : pinakibanerjee2001@gmail.com</p>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>
            </div>
            
            </div>
        </footer>
        <!--::footer_part end::-->
    </div>


    <!-- jquery plugins here-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="public/js/jquery-1.12.1.min.js"></script>
    <!-- popper js -->
    <script src="public/js/popper.min.js"></script>
    <!-- bootstrap js -->
    <script src="public/js/bootstrap.min.js"></script>
    <!-- easing js -->
    <script src="public/js/jquery.magnific-popup.js"></script>
    <!-- swiper js -->
    <script src="public/js/swiper.min.js"></script>
    <!-- swiper js -->
    <script src="public/js/masonry.pkgd.js"></script>
    <!-- particles js -->
    <script src="public/js/owl.carousel.min.js"></script>
    <script src="public/js/jquery.nice-select.min.js"></script>
    <!-- slick js -->
    <script src="public/js/slick.min.js"></script>
    <script src="public/js/jquery.counterup.min.js"></script>
    <script src="public/js/waypoints.min.js"></script>
    <script src="public/js/contact.js"></script>
    <script src="public/js/jquery.ajaxchimp.min.js"></script>
    <script src="public/js/jquery.form.js"></script>
    <script src="public/js/jquery.validate.min.js"></script>
    <script src="public/js/mail-script.js"></script>
    <!-- custom js -->
    <script src="public/js/custom.js"></script>
    <script>
        function showOptions(){
            Swal.fire({
                title: "Choose opponent",
                text: "You can Invite a firend with the link provided or Play against our AI",
                icon: "warning",
                timer:20000,
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Invite Friend",
                cancelButtonText: "Against AI",
                customClass: {
                    popup: 'custom-font',
                    title: 'custom-font',
                    content: 'custom-font',
                    confirmButton: 'custom-font',
                    cancelButton: 'custom-font'
                },
            }).then((result) => {
                let gameId="ABCD";
                if (result.isConfirmed) {
                    fetch('/create-game')
                        .then(response => {
                            if (response.ok) {
                                return response.json();
                            }
                            throw new Error('Failed to create game');
                        })
                        .then(data => {
                            gameId = data.id;
                            fetch(`/start-game/${gameId}`)
                                .then(response => {
                                    if (response.ok) {
                                        return response.json();
                                    }
                                    throw new Error('Failed to create game');
                                }).then( data =>{
                                    console.log(data);
                                    if(data.start){
                                        location.href=`/new-game/${gameId}/?AI_MODE=False`
                                    }
                                })
                                .catch(error => {
                                    console.error('Error:', error.message);
                                });
                            Swal.fire({
                                title: "Invite Link",
                                icon: "info",
                                html: `
                        <div>
                        <h3 style='color:black;font-family:arial;font-size:18px;'>Waiting for other player</h3>
                        <div class="col-md-15">
                            <div class="input-group">
                                <!-- Change the button to show a loading logo -->
                                <button class="input-group-text" id="copyButton" style="cursor: pointer;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy"
                                viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z">
                                </path>
                                    </svg>
                                </button>
                                <textarea id="gameLink" class="form-control" placeholder="Invite Link" aria-label="Input group example" aria-describedby="basic-addon1" disabled rows="1"></textarea>
                            </div>
                        </div>
                    </div>

                        `,
                                customClass: {
                                    popup: 'custom-font2',
                                    title: 'custom-font2',
                                    content: 'custom-font2',
                                    confirmButton: 'custom-font2',
                                    cancelButton: 'custom-font2'
                                },
                                showConfirmButton: false
                            });
                            setupPopupElements(gameId);
                        })
                        .catch(error => {
                            console.error('Error:', error.message);
                        }); 
                } else if (result.dismiss === Swal.DismissReason.cancel) {
                    // Cancel button was pressed
                    fetch('/create-game')
                        .then(response => {
                            if (response.ok) {
                                return response.json();
                            }
                            throw new Error('Failed to create game');
                        })
                        .then(data => {
                            gameId=data.id;
                            Swal.fire({
                                title: "AI Mode",
                                text: "You have choosen to play against AI.",
                                icon: "info",
                                confirmButtonText:"Start",
                                customClass: {
                                    popup: 'custom-font3',
                                    title: 'custom-font3',
                                    content: 'custom-font3',
                                    confirmButton: 'custom-font3',
                                    cancelButton: 'custom-font3'
                                }
                            }).then(result => {
                                if(result.isConfirmed){
                                    location.href = `/new-game/${gameId}/?AI_MODE=True`
                                }
                            });
                        })
                        .catch(error => {
                            console.error('Error:', error.message);
                        });
                }
            });
        }
        function setupPopupElements(gameId) {
        // Get the copy button and the text area
        const copyButton = document.getElementById('copyButton');
        const gameLink = document.getElementById('gameLink');
        gameLink.value = location.href + "join-game/" + gameId;

         copyButton.addEventListener('mouseenter', function () {
                copyButton.title = "Copy to Clipboard";
        });
        // Add click event listener to the copy button
        copyButton.addEventListener('click', function () {
            // Select the text inside the text area
            gameLink.select();
            gameLink.setSelectionRange(0, 99999); // For mobile devices
            navigator.clipboard.writeText(gameLink.value);
            document.getElementById("copyButton").innerHTML= `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green" class="bi bi-check2-all" viewBox="0 0 16 16">
                <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0"/>
                <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708"/>
                </svg>`;
        });
    }

    function show_contact() {
        var footer = document.querySelector("footer");
        footer.scrollIntoView({ behavior: "smooth" });
    }
    window.addEventListener('DOMContentLoaded', function () {
            // Get the header element
            const header = document.querySelector('header');
            const body = document.querySelector('body');
            body.style.width = window.innerWidth+ 'px';
            // Set the header width to match the window's inner width
            header.style.width = window.innerWidth - 10 + 'px';
        });


    window.addEventListener('resize', function () {
            // Get the header element
            const header = document.querySelector('header');
            const body=document.querySelector('body');
            body.style.width= window.innerWidth+ 'px';
            // Set the header width to match the window's inner width
            header.style.width = window.innerWidth-10+ 'px';
        });

    </script>
</body>

</html>